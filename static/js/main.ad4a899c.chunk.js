(this["webpackJsonpworkout-timer"]=this["webpackJsonpworkout-timer"]||[]).push([[0],{46:function(t,e,a){},55:function(t,e,a){t.exports=a.p+"static/media/bells.b62cc0d9.mp3"},61:function(t,e,a){t.exports=a(73)},66:function(t,e,a){},73:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),r=a(9),s=a.n(r),o=(a(66),a(46),a(20)),l=a(21),c=a(18),u=a(22),h=a(23),m=a(57),d=a(103),f=a(104),p=a(107),v=a(41),E=a.n(v),g=a(53),y=a.n(g),x=a(54),k=a.n(x),b=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(){return Object(o.a)(this,a),e.apply(this,arguments)}return Object(l.a)(a,[{key:"getButtons",value:function(t,e){switch(t){case"Playing":return i.a.createElement(p.a,{"aria-label":"play",onClick:this.props.pauseTimer},i.a.createElement(y.a,{style:{fontSize:32}}));case"Paused":return i.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},i.a.createElement(p.a,{"aria-label":"play",onClick:this.props.startTimer},i.a.createElement(E.a,{style:{fontSize:32}})),i.a.createElement("div",{style:{minWidth:"10px"}}),i.a.createElement(p.a,{"aria-label":"play",onClick:this.props.resetTimer},i.a.createElement(k.a,{style:{fontSize:32}})));default:return i.a.createElement(p.a,{"aria-label":"play",onClick:this.props.startTimer},i.a.createElement(E.a,{style:{fontSize:32}}))}}},{key:"render",value:function(){return this.getButtons(this.props.status)}}]),a}(n.Component);function S(t){var e=("0"+Math.floor(t/1e3)%60).slice(-2),a=("0"+Math.floor(t/6e4)%60).slice(-2),n=("0"+Math.floor(t/36e5)).slice(-2);return"00"===n?a+" : "+e:n+" : "+a+" : "+e}var w=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).state={timerOn:!1,timerTime:0,timerStart:0,currentExercise:""},n.startTimer=function(){n.setState({timerOn:!0,timerTime:n.state.timerTime,timerStart:Date.now()-n.state.timerTime,timerFinished:!1}),n.timer=setInterval((function(){n.setState({timerTime:Date.now()-n.state.timerStart})}),10),n.i=0},n.pauseTimer=function(){n.setState({timerOn:!1}),clearInterval(n.timer)},n.resetTimer=function(){n.setState({timerStart:0,timerTime:0,timerFinished:!1}),n.startEvents()},console.log("Stopwatch constructor called"),n}return Object(l.a)(a,[{key:"startEvents",value:function(){this.events=Object(m.a)(this.props.workout.exercises),this.totalDuration=this.props.workout.duration,this.currentExercise=this.events.shift()||this.events.length>0,this.setState({timerTime:0}),this.lastStart=0}},{key:"workoutFinished",value:function(){this.setState({timerFinished:!0}),this.pauseTimer()}},{key:"getNextExercise",value:function(){var t=this.events.shift();return console.log(t),this.props.notifyChange(),t}},{key:"changeExercise",value:function(t){0===this.events.length?this.workoutFinished():(this.lastStart=t,this.currentExercise=this.getNextExercise(),console.log("".concat(("000"+t).slice(-3)," Exercise changed to: ").concat(this.currentExercise.name)))}},{key:"handleUpdateSignal",value:function(){this.props.setWorkoutUpdated(!1),this.pauseTimer(),this.resetTimer(),console.log("Workout updated")}},{key:"getButtons",value:function(){var t,e,a=(t=this.state.timerOn,e=this.state.timerTime,t?"Playing":t||0!==e?!t&&e>0?"Paused":void 0:"Not Started");return i.a.createElement(b,{status:a,startTimer:this.startTimer,pauseTimer:this.pauseTimer,resetTimer:this.resetTimer})}},{key:"render",value:function(){this.props.workoutUpdated&&this.handleUpdateSignal();var t=this.state.timerTime,e=Math.floor(t/1e3),a=t-1e3*this.lastStart,n=Math.floor(a/1e3),r=this.currentExercise.duration-n;return this.state.timerOn&&n>=this.currentExercise.duration&&this.changeExercise(e),i.a.createElement("div",{className:"Stopwatch",style:{paddingTop:"30px"}},0===this.state.timerTime&&i.a.createElement("div",null,i.a.createElement("h3",null,"Ready to begin workout. Press start!")),!this.state.timerFinished&&i.a.createElement("div",null,i.a.createElement("div",null,"Current exercise:"),i.a.createElement(d.a,{variant:"h2",style:{paddingBottom:"30px",margin:"0"}},this.currentExercise.name),i.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(d.a,{variant:"h4",style:{position:"absolute",margin:0}},S(1e3*r)),i.a.createElement("div",{style:{position:"absolute"}},i.a.createElement(f.a,{variant:"static",value:100-parseInt((a/(10*this.currentExercise.duration)).toFixed(0)),size:200,thickness:5})),i.a.createElement(f.a,{variant:"static",value:parseInt((e/this.totalDuration*100).toFixed(0)),size:250,thickness:2})),i.a.createElement("div",{style:{paddingTop:"30px"}},this.getButtons()),i.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"30px"}},i.a.createElement("div",{className:"Stopwatch-display",style:{justifyContent:"center"}},"Time elapsed:",i.a.createElement("h4",{style:{margin:0,fontSize:"20px"}},S(t))),i.a.createElement("div",{style:{minWidth:"40px"}}),i.a.createElement("div",{style:{justifyContent:"center"}},"Exercises left:",i.a.createElement("h4",{style:{margin:0,fontSize:"20px"}},this.events.length+1,"/",this.props.workout.exercises.length)))),this.state.timerFinished&&0!==this.state.timerTime&&i.a.createElement("div",null,i.a.createElement("h3",null,"Workout done! Congratulations!")))}}]),a}(n.Component),O=a(38);function T(t){return null!==t.match(/[a-z]/i)}function j(t,e){for(var a,n=[],i=e,r=!0;r&&i>=0;)i--,n.unshift(t[i]),a=t[i-1],r=/^\d$/.test(a)&&i>0;return 0===n.length?"":[i,n.join("").trim()]}function C(t,e){var a=t.indexOf("(",e);if(-1===a)return"";for(var n=a,i=1,r=!0;r;)"("===t[++n]?i++:")"===t[n]&&i--,r=i>0&&n<t.length;return[n,t.slice(a+1,n)]}function W(t,e){for(var a="",n=e;n>0;n--){a+=t+(1!==n?", ":"")}return a}var I=function(t){var e=function(t){return function(t){for(var e=0;e<t.length;e++){var a=t[e],n=!0;if("x"===a){if(e-1>=0){var i=t[e-1];n=!T(i)}if(e+1<t.length){var r=t[e+1];n=n&&!T(r)}n&&(t=t.slice(0,e)+"*"+t.slice(e+1))}}return t}(t.replace(/\+/g,",").replace(/[\u201c\u201d]/g,'"').replace(/[[{]/g,"(").replace(/[\]}]/g,")"))}(t);console.log(e);var a=function(t){var e=t.indexOf("*");for(;-1!==t.indexOf("*");){var a,n,i,r=j(t,e),s=Object(O.a)(r,2);a=s[0],n=s[1];var o=C(t,e),l=Object(O.a)(o,2);i=l[0];var c=W(l[1],n);t=t.slice(0,a)+c+t.slice(i+1),e=t.indexOf("*")}return t}(e).split(","),n=[],i=0;a.forEach((function(t){var e=function(t){var e=t.indexOf('"'),a=t.indexOf("'");if(-1===a)return t;if(-1===e)return(60*t.slice(0,a)).toString()+'"'+t.slice(a+1);var n=t.slice(0,a),i=t.slice(a+1,e);return(60*n+parseInt(i)).toString()+'"'+t.slice(e+1)}(t).split('"'),a=Object(O.a)(e,2),r=a[0],s=a[1];i+=parseInt(r.trim());var o={duration:r.trim(),name:s.trim()};n.push(o)}));var r={exercises:n,duration:i};return console.log(r.duration),r},F=a(106),U=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).setWorkoutUpdated=function(t){n.setState({workoutUpdated:t})},n.handleEditWorkout=function(){n.setState({showEditing:!0})},n.handleChange=function(t){n.setState({textBox:t.target.value})},n.handleSubmit=function(t){n.setState({textInput:n.state.textBox,workout:I(n.state.textBox),workoutUpdated:!0,showEditing:!1}),t.preventDefault()},n.state={textBox:"",textInput:"",workoutUpdated:!1,workout:{exercises:[]},showEditing:!0},n.state.textBox='15" Squats + 2x(15"Plank + 15"Burpees) + 15" Flex',n.handleChange=n.handleChange.bind(Object(c.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(c.a)(n)),n.handleEditWorkout=n.handleEditWorkout.bind(Object(c.a)(n)),n.setWorkoutUpdated=n.setWorkoutUpdated.bind(Object(c.a)(n)),n}return Object(l.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,this.state.showEditing&&i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("div",null,i.a.createElement(F.a,{style:{width:"80%"},type:"text",name:"exercises",multiline:!0,value:this.state.textBox,onChange:this.handleChange})),i.a.createElement("input",{type:"submit",value:"Submit"})),!this.state.showEditing&&i.a.createElement("button",{onClick:this.handleEditWorkout},"Edit exercises"),this.state.workout.exercises.length>0&&i.a.createElement("div",null,i.a.createElement(w,{workout:this.state.workout,workoutUpdated:this.state.workoutUpdated,setWorkoutUpdated:this.setWorkoutUpdated,notifyChange:this.props.notifyChange})))}}]),a}(n.Component),z=a(55),B=a.n(z);var M=function(){new Audio(B.a).play()};var N=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(d.a,{variant:"h1"},"WORKOUT TIMER"),i.a.createElement(U,{notifyChange:M}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(56),D=a(105),R=(a(71),a(72),Object(P.a)({typography:{fontFamily:'"Inter", "Montserrat", sans-serif',fontSize:12,h1:{fontFamily:'"Montserrat", "Inter", sans-serif',fontWeight:600,fontSize:30},h2:{fontFamily:'"Montserrat", "Inter", sans-serif',fontWeight:600,fontSize:22},h3:{fontFamily:'"Montserrat", "Inter", sans-serif',fontWeight:600,fontSize:18},subtitle1:{fontFamily:'"Montserrat", "Inter", sans-serif',fontWeight:600,fontSize:14}},palette:{primary:{main:"#333333"},secondary:{main:"#727171"},accent:{main:"#80d6d1"},background:{main:"#f8f3f0",default:"#f8f3f0"},w:{main:"#ff5656"}}}));s.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(D.a,{theme:R},i.a.createElement(N,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.ad4a899c.chunk.js.map